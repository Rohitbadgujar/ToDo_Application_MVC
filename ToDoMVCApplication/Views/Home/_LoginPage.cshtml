@model ToDoMVCApplication.Models.User
<div style="padding:0px" class="jumbotron">
    <h4>TO DO Application</h4>
</div>
<div class="container-fluid" id="main-container-login">
    <div class="row">
        <div class="col-sm-4">
            <h2>Sign In to your account</h2>
            <form method="post" id="SignInForm">
                <div class="form-group">
                    <label for="email">Username:</label>
                    @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", @id = "LoginUsername", @placeholder = "Enter Username", @name = "username" })
                </div>
                <div class="form-group">
                    <label for="pwd">Password:</label>
                    @Html.TextBoxFor(m => m.Password, new { @class = "form-control", @id = "LoginPassword", @placeholder = "Enter Password", @name = "passworld" })
                </div>
                <div class="custom-control form-group form-check custom-checkbox mb-3">
                    <input type="checkbox" class="custom-control-input" id="customCheck" name="example1">
                    <label class="custom-control-label" for="customCheck">Custom checkbox</label>
                </div>
                <button type="submit" id="submitSignInForm" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="col-sm-8">

            <div class="vl"></div>
            <h2>Sign Up to your account</h2>
            <form method="post" id="SignInForm">
                <div class="form-group">
                    <label for="username">Username:</label>
                    @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", @id = "UsernameTxt", @placeholder = "Enter Username", @name = "username" })

                </div>
                <div class="form-group">
                    <label for="username">Name:</label>
                    @Html.TextBoxFor(m => m.Name, new { @class = "form-control", @id = "NameTxt", @placeholder = "Enter Name", @name = "name" })
                </div>
                <label for="email">Email:</label>
                @Html.TextBoxFor(m => m.EmailId, new { @type = "email", @class = "form-control", @id = "EmailIdTxt", @placeholder = "Enter EmailId", @name = "emailId" })
                <div class="form-group">
                    <label for="pwd">Password:</label>
                    @Html.TextBoxFor(m => m.Password, new { @class = "form-control", @id = "PasswordTxt", @placeholder = "Enter Password", @name = "passworld" })
                </div>
                <div class="form-group">
                    <button type="submit" id="submitSignUpForm" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<style>
    .vl {
        border-left: 4px solid grey;
        height: 100%;
        float: left;
        padding-right: 25px;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {
     $("#submitSignUpForm").click(function (e) {
         e.preventDefault();
         var data = {
             'UserName': $('#UsernameTxt').val(),
             'Name': $('#NameTxt').val(),
             'EmailId': $('#EmailIdTxt').val(),
             'Password': $('#PasswordTxt').val(),
             'DeleteInd': 0,
         }
        $.ajax({
            type: 'post',
            url: '@Url.Action("SignUp", "Home")',
            data: JSON.stringify(data),
            contentType: 'application/json; charset=utf-8',
            success: function (result) {
                alert('Account Details Created Successfully');
            }
        });
        });
    });
    $("#submitSignInForm").click(function (e) {
         e.preventDefault();
         var data = {
             'UserName': $('#LoginUsername').val(),
             'Password': $('#LoginPassword').val()
         }
        $.ajax({
            type: 'post',
            url: '@Url.Action("SignIn", "Home")',
            data: JSON.stringify(data),
            contentType: 'application/json; charset=utf-8',
            success: function (result) {
                if (result.result == false)
                    alert('Invalid Credentials');
                else {
                    $("#main-container-login").html(result);
                }
            }
        });
    });
    function redirectToLoginPage(User) {
        var data = User;
        $.ajax({
            type: 'post',
            url: '@Url.Action("RedirectToLoginPage", "Home")',
            data: JSON.stringify(data),
            contentType: 'application/json; charset=utf-8',
            dataType: "json",

        });
    }

</script>
